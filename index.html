<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    
    <title>El arte del error</title>
    
    <meta name="description" content="Un viaje por los mensajes de
    error en Informática y qué hacer con ellos">
    <meta name="author" content="JJ Merelo">
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
    
    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/sky.css" id="theme">
    <link rel="stylesheet" href="css/extra.css" id="extra">
    
    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">
    
    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>
    
    <!--[if lt IE 9]>
	<script src="lib/js/html5shiv.js"></script>
	<![endif]-->
  </head>
  
  <body>1
    
    <div class="reveal">
      
      <!-- Any section element inside of this container is displayed as a slide -->
      <div class="slides">
	
	<section data-background ='https://farm3.staticflickr.com/2587/3834138653_9eac8e545e_o_d.png' alt='paraguas'>
	  <aside class='notes'>Los paraguas serán alguna vez
	  reconocidos como uno de los mayores errores de la
	  humanidad. Hay una vasta conspiración mundial de los
	  fabricantes de paraguas para que usemos algo que para lo
	  único que sirve es para coreografiar bonitas canciones como
	  "Singing in the rain" y para ser abandonado en algún lugar
	  que uno luego no recuerda. Porque, ¿quién ha olvidado
	  alguna vez algún paraguas en algún sitio? Y, por otro lado,
	  ¿quién ha acabado empapado después de usar un paraguas? Y,
	  lo que es peor, quién se ha escurrido y se ha pegado un
	  guarrazo por llevar un paraguas en la mano y no poder
	  agarrarse a nada más cuando se escurre? Un gran error.</aside>
	</section>
	
	<section><h1>Errar es humano</h1>
	  <h2 class='fragment'>Pero para liarla parda necesitas un ordenador</h2>
	  <h3 class='fragment'>Bill Vaughan, traducción libre</h3>

	  <aside class='notes'>La cita
	    investigada <a href='http://quoteinvestigator.com/2010/12/07/foul-computer/'>aquí,
	      atribuyéndola a "Senator Soaper"</a>.Los ordenadores son realmente
	    estúpidos, hay que contarle cómo hacer las cosas. Y en
	    estas recetas el error puede provenir de muchas fuentes posibles. </aside>
	</section>

	<section><blockquote>Programa: hechizo lanzado sobre un
	ordenador que convierte lo que uno teclea en mensajes de
	    error.</blockquote>
	  <h3>De "The jargon file"</h3>
	  <aside class='notes'>De la misma forma que el paraguas es un
	  artefacto mágico que te hace pensar que no te estás mojando
	  aunque, en realidad, te estás poniendo sopa. Así que los errores han estado ahí
	    desde el principio, pero no siempre han sido de la misma forma.</aside>
	</section>

	<!-- errores en la antiguedad -->
	<section>

	  <section data-background='https://farm5.staticflickr.com/4070/4599467981_79985d042b_o_d.gif'
		   alt='Spectrum fail' >
	    <aside class='notes'>Al principio todo lo que había era
		   una pantalla en negro, un reset, y algún pixel
		   parpadeando o algo así. Nada que te permitiera
		   averiguar qué era lo que había
	      pasado. Un ejemplo de lo que le esperaba a un
	      programador con algún problema: un reset y a figurarte qué
	      diablos había pasado. Lo peor no es que sucediera siempre,
	      sino que sucediera sólo a veces...  Afortunadamente, con el tiempo se mejoró algo
	  </section>
	  
	  <section data-background='https://farm1.staticflickr.com/94/253736080_0bcb324038_o_d.jpg'
		   alt='abort, retry, fail'>
	    <aside class='notes'>Si has usado alguna máquina MSDOS,
	      seguro que te ha
	      sucedido <a href='https://en.wikipedia.org/wiki/Abort,_Retry,_Fail%3F'>esto
	      alguna vez</a>. Al menos era una mejora: te ofrecía un
	      camino de salida, aunque no estaba claro qué había qué
	      había qué hacer y qué podía pasar si hacías Fail o si
	      hacías Abort. Pero así apareció uno de los patrones de
		   comportamiento con los errores: <em>Retry</em>,
		   siempre reintentar a ver qué pasa. Como con los
		   paraguas. La gente sigue usándolos a pesar de que
		   no sirven absolutamente para nada. Los paraguas son
		   un Fail con varillas. </aside> 
	  </section>

	  <section>
	    <img src='https://upload.wikimedia.org/wikipedia/commons/d/db/Guru_meditation.gif' alt='Guru meditation'>
	    <aside class='notes'>Las <a
	    href='https://en.wikipedia.org/wiki/Guru_Meditation'>Meditaciones
	    del guru</a> empezaron en el Commodore Amiga, que
	    inventaron un juego donde había que estar quieto para
	    ganar; si no se estaba quieto, el error de "meditación de
	    guru" se producía. De ahí pasó a los sistemas, e incluso a
	    las Nintendo DS en versión homebrew y al sistema de cache
	    Varnish y VirtualBox. Y esta broma ha servido de
	    inspiración a generaciones venideras, como... </aside>
	  </section>

	  <section
	  data-background='https://upload.wikimedia.org/wikipedia/commons/thumb/8/8c/Tumbeasts_servers.png/1200px-Tumbeasts_servers.png?download'>
	    <aside class='notes'>Ahora sí que hemos mejorado, con
	      ballenitas, monstruitos y cosas así</aside>
	  </section>
	</section>
	<!-- fin sección -->

	<section>
	  <section><h1>Un error es</h1>
	    <h2 class='fragment'> una situación anómala o excepcional que requiere
	  tratamiento</h2>
	    <img
	  src='https://farm1.staticflickr.com/36/97853441_f2e0574809_o_d.png'
	  alt='error:Interno'>

	    <aside class='notes'>Y normalmente da lugar a <a
	  href='https://en.wikipedia.org/wiki/Error_message'>mensajes
	      de error</a>, que es de lo que (principalmente) vamos a
	      hablar hoy. Por eso reintentarlo no suele ser una buena
	  opción, como en las pelis cuando no funciona el teléfono que
	  le dan al botón de colgar varias veces... El ordenador, el
	  sistema operativo, el compilador, el programa, nos avisa de
	  que hay algo que no funciona. Y tenemos que hacer algo al
	  respecto. Este error es una captura mía de una web de la
	  Junta. Moderno: https://www.flickr.com/photos/atalaya/97853441/ </aside>
	  </section>

	  <section>
	    <h2>Error: Segmentation fault</h2>
	    <h3 class='fragment'>Tratamiento: core dumped</h3>
	    <img
	    src='https://farm4.staticflickr.com/3509/3823543639_60e80abf25_o_d.png'
	    alt='core dumped'>
	    <aside class='notes'>Un <a
	    href='https://en.wikipedia.org/wiki/Segmentation_fault'>fallo
	      de segmentación venía dado</a> por un error de acceso a
	    la memoria lanzado por el hardware.  Algo que podía
	    suceder cada dos por tres cuando uno programaba en C o C++
	    y accedía a memoria que no debía. Afortunadamente, de esa
	    pantalla poco informativa salía algo informativo: el
	      <em>core dumped</em>, un volcado de la memoria que se
	      podía analizar buscando culpables. Lo que aparecía en la
	    pantalla era bastante poco informativo, pero lo que había
	    en un fichero llamado CORE, no. Si fuera un paraguas,
	    usarías el paraguas, acabarías empapado. Ahora, mira el
	    paraguas y las varillas a ver dónde está el error. Lo que
	    también es un error, porque el error es que no es una
	    tienda de campaña. Sólo eso debería de ser una buena razón
	    para no enseñar C, pero la gente sigue enseñando C, igual
	    que usando paraguas. </aside>
	  </section>

	  <section
	data-background='https://farm9.staticflickr.com/8811/18287511336_57e7dafe3d_k_d.jpg'
	alt='gusanito'>
	    <h1 class='bkg'>Se impone una depuración</h1>

	    <aside class='notes'>La depuración siempre ha estado ahí
	  como técnica disponible al programador, desde el
	  principio. En lo más simple, se trata simplemente de saber
	      dónde está el programa y los valores de variables relevantes.</aside>
	  </section>

	  <section>
	    <pre><code>#include "tontitest.h"
void ea(){
  printf( "Aquí estamos porque hemos venío\n" );
}</code></pre>
	    <aside class='notes'>Algo así se encuentra <a
	    href='https://github.com/ninglinli/UnixSystemProgramming/blob/9c66947df8a8af7a09acd3688febdf5416e4a07e/ninglinli.lab3/ex3/here.c'>aquí,
	      por ejemplo</a>a>, pero en muchos otros sitios. 
	  </section>
	  <section>
	    <pre><code>public class Main {

    public static void main(String[] args) {
        System.out.println("Here I am");
        System.out.println("Hello World!");
    }
}</code></pre>
	    <aside class='notes'>Sacado de <a
        href='https://github.com/lukaszkusy/gitflowpoc/blob/0386dfc7af20d86906fbbe3f5e7ef976af3c921f/src/Main.java'>aquí</a>,
              pero con muchos más ejemplos</aside>
	  </section>

	  <section>
	    <pre><code>#!/usr/local/bin/node
var rest = require('restler');
var url = 'http://127.0.0.1:8080/contador/';
process.argv.forEach(function (val, index, array) {
    console.log( "Argumento " + index + " valor " + val );
    if ( index > 1 ) {
	rest.put( url + val ).on('complete', function( data ) {
	    console.log( data );
	} );
    }
});</code></pre>
	    <aside class='notes'>Cuanto más moderno es el lenguaje, más
              se siguen usando los mismos métodos. Hay que saber dónde está
              uno, qué valor tienen las cosas, y si se acaba metiendo alguna
              gamba, interesa saber por qué, incluso en programas simples
              como este.</aside>
	  </section>

	  <section>
	    <img
	    src='https://i.ytimg.com/vi/sCtY--xRUyI/hqdefault.jpg'
	    alt='debugging'>
	    <aside class='notes'>el <code>gdb</code> de la GNU
	    permitía examinar la memoria, hacer un "bt" o backtrace
	    que te decía el contenido de la pila y te permitía ver los
	      contenidos de las variables en un marco u otro de la pila.</aside>
	    
	</section>

	<section> <!-- Hablemos de la pila -->
	  <section
	    data-background='https://farm4.staticflickr.com/3923/14210516939_e8fc79faae_k_d.jpg'
	  alt='la pila que se cae'>
	    <h1 class='bkg'>La pila rebosa</h1>
	    <aside class='notes'>La pila es un elemento importante en
	      la depuración. Contiene información de todas las llamadas a
	      funciones, junto con un <a
	      href='https://en.wikipedia.org/wiki/Call_stack'> <em>stack
	      frame</em></a> con más meta información: de dónde viene, a
	      dónde va, variables locales, parámetros, contexto de la
	  función o subrutina... La pila de llamadas está compuesta de
	  marcos de pila o stack frames. Y hay que recordar este
	  concepto, porque es importante a la hora de interpretar un
	      error. </aside>
	  </section>
	</section> <!-- Fin de pila -->

	<section><h3>Créditos</h3>
	  <ul class='creditcontainer'><li class='credits'><a href='https://www.flickr.com/photos/pame_figueroa/3834138653/'>Paraguas
		por Pame Figueroa</a></li>
	    <li class='credits'><a href='https://www.flickr.com/photos/r00s/4599467981/'>Spectrum
		por Rosa Meckman</a></li>
	    <li class='credits'><a href='https://www.flickr.com/photos/jleveque/253736080/'>Error
		retry, fail por James LeVeque</a></li>
	    <li class='credits'><a href='https://en.wikipedia.org/wiki/Guru_Meditation'>Guru Meditation de la Wikipedia, sacado del Amiga</a></li>
	    <li class='credits'><a
	  href='https://www.flickr.com/photos/lancefisher/3823543639/'>Core
	      Dumped por Lance Fisher</a></li>
	    <li class='credits'><a
	  href='http://theoatmeal.com/comics/state_web_summer#tumblr'>Monstruos
	  verdes By Matthew Inman</a> - <a
	  href='https://commons.wikimedia.org/w/index.php?curid=38250302'>CC
	      BY 3.0, Wikipedia</a> </li>
	    <li class='credits'>La imagen del debugger está sacada de
	  <a href='https://www.youtube.com/watch?v=sCtY--xRUyI'>este
	    tutorial de Youtube</a></li>
	    <li class='credit'><a
	  href='https://www.flickr.com/photos/togawanderings/14210516939/'>Pila
	      de Thomas Galvez</a></li>
	  </ul>
      </div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
